{% extends "standard_account/report_base.html" %}
{% load static %}
{% block title %}User ratings{% endblock title %}


{% block content %}
 <div class="col-md-12">
 <div class="container" style="text-align: center">
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h1 class="display-4">User ratings on {{ type }}</h1>
{#        <h2>Average Rating: {{ avg_rating }} Stars</h2>#}
{#        <h2>Rating Remark: {{ remark }}</h2>#}
      </div>
    </div>
</div>

<div class="table-responsive">
  <table id="bootstrapdatatable" class="table table-striped table-bordered" width="100%">
            <thead>
                <th>Title</th>
                <th>Service Description</th>
{#                <th>Rated By</th>#}
                <th>Ratings</th>
                <th>Comment</th>
                <th>When Rendered</th>
                <th>Date Rated</th>
             </thead>
   <tbody>
   {% for i in ratings %}
    <tr>
     <td>{{ i.training_name }}</td>
     <td>{{ i.description }}</td>
{#     <td>{{ i.rater }}</td>#}
     <td>{{ i.rating }}</td>
     <td>{{ i.comment }}</td>
     <td>{{ i.training_date }}</td>
     <td>{{ i.created_at }}</td>
    </tr>
   {% endfor %}
   </tbody>
  </table>
</div>
</div>

<script type="text/javascript">
    jQuery(document).ready(function($){

	$(".btnrating").on('click',(function(e) {

	var previous_value = $("#selected_rating").val();

	var selected_value = $(this).attr("data-attr");
	$("#selected_rating").val(selected_value);

	$(".selected-rating").empty();
	$(".selected-rating").html(selected_value);

	for (i = 1; i <= selected_value; ++i) {
	$("#rating-star-"+i).toggleClass('btn-warning');
	$("#rating-star-"+i).toggleClass('btn-default');
	}

	for (ix = 1; ix <= previous_value; ++ix) {
	$("#rating-star-"+ix).toggleClass('btn-warning');
	$("#rating-star-"+ix).toggleClass('btn-default');
	}

	}));

    });
</script>
{% endblock content %}